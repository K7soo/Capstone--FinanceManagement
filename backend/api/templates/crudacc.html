{% extends 'base.html' %}

{% load static %}

{% block title %}
    List of Accounts
{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/crudacc.css' %}">
{% endblock %}

{% block content %}
<h1>List of Accounts</h1>

<div class="table-frame">
    <div class="button-container">
        <button class="add-account-btn">ADD ACCOUNT TYPE</button>
    </div>
    <table class="table-acc">
        <thead>
            <tr>
                <th>Account Name</th>
                <th>Description</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <!-- Render existing accounts from the database -->
            {% for account in Accounts %}
            <tr>
                <td>{{ account.AccountName }}</td>
                <td>{{ account.AccountTypeDesc }}</td>
                <td>
                    <button class="btn-view" onclick="viewAccount('{{ account.AccountName }}', '{{ account.AccountTypeDesc }}')">View</button>
                    <button class="btn-edit" onclick="editAccount('{{ account.AccountName }}', '{{ account.AccountTypeDesc }}', this)">Edit</button>
                    <button class="btn-delete" onclick="deleteAccount(this)">Delete</button>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- Add Account Modal -->
<div id="addAccountModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" style="cursor:pointer;">&times;</span>
        <h2>Add New Account</h2>
        <form id="addAccountForm">
            <div class="form-grid">
                <label for="AccountName">Account Name:</label>
                <input type="text" id="AccountName" class="textbox" name="AccountName" required>

                <label for="AccountTypeDesc">Account Description:</label>
                <input type="text" id="AccountTypeDesc" class="textbox-desc" name="AccountTypeDesc" required>
            </div>
            <button type="submit" class="submit-btn">Add Account</button>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
    <script src="{% static 'js/crudacc.js' %}"></script>
{% endblock %}
